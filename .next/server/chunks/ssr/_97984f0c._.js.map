{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iMAAmB;AAI5B","debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/components/ui/Header.tsx"],"sourcesContent":["'use client';\n\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter, usePathname } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface HeaderProps {\n  userEmail?: string;\n}\n\nexport default function Header({ userEmail }: HeaderProps) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const supabase = createClient();\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push('/auth');\n    router.refresh();\n  };\n\n  const isMapPage = pathname === '/dashboard';\n  const isFavoritesPage = pathname === '/favorites';\n\n  return (\n    <header className=\"bg-white border-b border-gray-200\">\n      <div className=\"w-full px-6 py-4 flex justify-between items-center\">\n        <div className=\"flex items-center space-x-8\">\n          <h1 className=\"text-2xl font-bold text-blue-600\">Sandbars</h1>\n\n          <nav className=\"flex space-x-1\">\n            <Link\n              href=\"/dashboard\"\n              className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                isMapPage\n                  ? 'bg-blue-100 text-blue-700'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n            >\n              Map\n            </Link>\n            <Link\n              href=\"/favorites\"\n              className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                isFavoritesPage\n                  ? 'bg-blue-100 text-blue-700'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n            >\n              Favorites\n            </Link>\n          </nav>\n        </div>\n\n        <div className=\"flex items-center space-x-4\">\n          {userEmail && (\n            <span className=\"text-sm text-gray-600\">{userEmail}</span>\n          )}\n          <button\n            onClick={handleLogout}\n            className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\n          >\n            Sign Out\n          </button>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS,OAAO,EAAE,SAAS,EAAe;IACvD,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,WAAW,IAAA,yIAAY;IAE7B,MAAM,eAAe;QACnB,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;QACZ,OAAO,OAAO;IAChB;IAEA,MAAM,YAAY,aAAa;IAC/B,MAAM,kBAAkB,aAAa;IAErC,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCAEjD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAW,CAAC,2DAA2D,EACrE,YACI,8BACA,mCACJ;8CACH;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAW,CAAC,2DAA2D,EACrE,kBACI,8BACA,mCACJ;8CACH;;;;;;;;;;;;;;;;;;8BAML,8OAAC;oBAAI,WAAU;;wBACZ,2BACC,8OAAC;4BAAK,WAAU;sCAAyB;;;;;;sCAE3C,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/components/favorites/FavoritesList.tsx"],"sourcesContent":["'use client';\n\nimport { FavoriteLocation } from '@/types';\n\ninterface FavoritesListProps {\n  favorites: FavoriteLocation[];\n  selectedId: string | null;\n  onSelect: (favorite: FavoriteLocation) => void;\n  onDelete: (id: string) => Promise<void>;\n}\n\nexport default function FavoritesList({\n  favorites,\n  selectedId,\n  onSelect,\n  onDelete,\n}: FavoritesListProps) {\n  return (\n    <div className=\"space-y-2\">\n      {favorites.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-500\">\n          <p className=\"mb-2\">No favorite locations yet</p>\n          <p className=\"text-sm\">Click on the map to add your first spot!</p>\n        </div>\n      ) : (\n        favorites.map((favorite) => (\n          <div\n            key={favorite.id}\n            className={`p-4 rounded-lg border cursor-pointer transition-all ${\n              selectedId === favorite.id\n                ? 'border-blue-500 bg-blue-50'\n                : 'border-gray-200 hover:border-gray-300 bg-white'\n            }`}\n            onClick={() => onSelect(favorite)}\n          >\n            <div className=\"flex justify-between items-start\">\n              <div className=\"flex-1\">\n                <h3 className=\"font-medium text-lg text-gray-900\">{favorite.name}</h3>\n                <p className=\"text-sm text-gray-900 mt-1\">\n                  {favorite.latitude.toFixed(4)}, {favorite.longitude.toFixed(4)}\n                </p>\n              </div>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onDelete(favorite.id);\n                }}\n                className=\"text-red-600 hover:text-red-800 p-1\"\n                title=\"Delete location\"\n              >\n                <svg\n                  className=\"w-5 h-5\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                  />\n                </svg>\n              </button>\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAWe,SAAS,cAAc,EACpC,SAAS,EACT,UAAU,EACV,QAAQ,EACR,QAAQ,EACW;IACnB,qBACE,8OAAC;QAAI,WAAU;kBACZ,UAAU,MAAM,KAAK,kBACpB,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAAO;;;;;;8BACpB,8OAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;mBAGzB,UAAU,GAAG,CAAC,CAAC,yBACb,8OAAC;gBAEC,WAAW,CAAC,oDAAoD,EAC9D,eAAe,SAAS,EAAE,GACtB,+BACA,kDACJ;gBACF,SAAS,IAAM,SAAS;0BAExB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAqC,SAAS,IAAI;;;;;;8CAChE,8OAAC;oCAAE,WAAU;;wCACV,SAAS,QAAQ,CAAC,OAAO,CAAC;wCAAG;wCAAG,SAAS,SAAS,CAAC,OAAO,CAAC;;;;;;;;;;;;;sCAGhE,8OAAC;4BACC,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB,SAAS,SAAS,EAAE;4BACtB;4BACA,WAAU;4BACV,OAAM;sCAEN,cAAA,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;eAjCL,SAAS,EAAE;;;;;;;;;;AA2C5B","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/components/favorites/ForecastCard.tsx"],"sourcesContent":["'use client';\n\nimport { SurfForecast } from '@/types';\n\ninterface ForecastCardProps {\n  forecast: SurfForecast[];\n  locationName: string;\n  loading?: boolean;\n}\n\nexport default function ForecastCard({ forecast, locationName, loading }: ForecastCardProps) {\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-6 bg-gray-200 rounded w-1/2 mb-4\"></div>\n          <div className=\"space-y-3\">\n            <div className=\"h-4 bg-gray-200 rounded\"></div>\n            <div className=\"h-4 bg-gray-200 rounded\"></div>\n            <div className=\"h-4 bg-gray-200 rounded\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (forecast.length === 0) {\n    return null;\n  }\n\n  const formatTime = (time: string) => {\n    return new Date(time).toLocaleString('en-US', {\n      weekday: 'short',\n      hour: 'numeric',\n      hour12: true,\n    });\n  };\n\n  const getWaveHeightColor = (height: number) => {\n    if (height < 1) return 'text-gray-600';\n    if (height < 2) return 'text-blue-600';\n    if (height < 4) return 'text-green-600';\n    if (height < 6) return 'text-orange-600';\n    return 'text-red-600';\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow\">\n      <div className=\"p-6 border-b\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Surf Forecast</h2>\n        <p className=\"text-gray-900\">{locationName}</p>\n      </div>\n\n      <div className=\"p-6 space-y-4 max-h-96 overflow-y-auto\">\n        {forecast.slice(0, 24).map((item, index) => (\n          <div\n            key={index}\n            className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\"\n          >\n            <div className=\"flex-1\">\n              <p className=\"font-medium text-gray-900\">{formatTime(item.time)}</p>\n            </div>\n\n            <div className=\"flex items-center space-x-6 text-sm\">\n              <div className=\"text-center\">\n                <p className=\"text-gray-900 text-xs mb-1\">Wave Height</p>\n                <p className={`font-bold text-lg ${getWaveHeightColor(item.waveHeight.max)}`}>\n                  {item.waveHeight.min.toFixed(1)}-{item.waveHeight.max.toFixed(1)}m\n                </p>\n              </div>\n\n              <div className=\"text-center\">\n                <p className=\"text-gray-900 text-xs mb-1\">Period</p>\n                <p className=\"font-medium text-gray-900\">{item.wavePeriod.toFixed(0)}s</p>\n              </div>\n\n              <div className=\"text-center\">\n                <p className=\"text-gray-900 text-xs mb-1\">Wind</p>\n                <p className=\"font-medium text-gray-900\">{item.windSpeed.toFixed(1)} m/s</p>\n              </div>\n\n              {item.waterTemperature && (\n                <div className=\"text-center\">\n                  <p className=\"text-gray-900 text-xs mb-1\">Water</p>\n                  <p className=\"font-medium text-gray-900\">{item.waterTemperature.toFixed(1)}Â°C</p>\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAUe,SAAS,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE,OAAO,EAAqB;IACzF,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;IAKzB;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;IACT;IAEA,MAAM,aAAa,CAAC;QAClB,OAAO,IAAI,KAAK,MAAM,cAAc,CAAC,SAAS;YAC5C,SAAS;YACT,MAAM;YACN,QAAQ;QACV;IACF;IAEA,MAAM,qBAAqB,CAAC;QAC1B,IAAI,SAAS,GAAG,OAAO;QACvB,IAAI,SAAS,GAAG,OAAO;QACvB,IAAI,SAAS,GAAG,OAAO;QACvB,IAAI,SAAS,GAAG,OAAO;QACvB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,8OAAC;wBAAE,WAAU;kCAAiB;;;;;;;;;;;;0BAGhC,8OAAC;gBAAI,WAAU;0BACZ,SAAS,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,MAAM,sBAChC,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAE,WAAU;8CAA6B,WAAW,KAAK,IAAI;;;;;;;;;;;0CAGhE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAW,CAAC,kBAAkB,EAAE,mBAAmB,KAAK,UAAU,CAAC,GAAG,GAAG;;oDACzE,KAAK,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC;oDAAG;oDAAE,KAAK,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC;oDAAG;;;;;;;;;;;;;kDAIrE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAU;;oDAA6B,KAAK,UAAU,CAAC,OAAO,CAAC;oDAAG;;;;;;;;;;;;;kDAGvE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAU;;oDAA6B,KAAK,SAAS,CAAC,OAAO,CAAC;oDAAG;;;;;;;;;;;;;oCAGrE,KAAK,gBAAgB,kBACpB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAA6B;;;;;;0DAC1C,8OAAC;gDAAE,WAAU;;oDAA6B,KAAK,gBAAgB,CAAC,OAAO,CAAC;oDAAG;;;;;;;;;;;;;;;;;;;;uBA5B5E;;;;;;;;;;;;;;;;AAqCjB","debugId":null}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/components/map/AddLocationModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface AddLocationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: (name: string, lat: number, lng: number) => Promise<void>;\n  latitude: number;\n  longitude: number;\n}\n\nexport default function AddLocationModal({\n  isOpen,\n  onClose,\n  onSave,\n  latitude,\n  longitude,\n}: AddLocationModalProps) {\n  const [name, setName] = useState('');\n  const [saving, setSaving] = useState(false);\n\n  if (!isOpen) return null;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSaving(true);\n    try {\n      await onSave(name, latitude, longitude);\n      setName('');\n      onClose();\n    } catch (error) {\n      console.error('Error saving location:', error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n        <h2 className=\"text-2xl font-bold mb-4 text-gray-900\">Add Favorite Location</h2>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2 text-gray-900\">\n              Location Name\n            </label>\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n              placeholder=\"e.g., Ocean Beach, Pipeline, etc.\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div className=\"bg-gray-50 p-3 rounded-md\">\n            <p className=\"text-sm text-gray-600\">\n              <span className=\"font-medium\">Latitude:</span> {latitude.toFixed(6)}\n            </p>\n            <p className=\"text-sm text-gray-600\">\n              <span className=\"font-medium\">Longitude:</span> {longitude.toFixed(6)}\n            </p>\n          </div>\n\n          <div className=\"flex space-x-3\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-gray-900\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={saving}\n              className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              {saving ? 'Saving...' : 'Save Location'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYe,SAAS,iBAAiB,EACvC,MAAM,EACN,OAAO,EACP,MAAM,EACN,QAAQ,EACR,SAAS,EACa;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,UAAU;QACV,IAAI;YACF,MAAM,OAAO,MAAM,UAAU;YAC7B,QAAQ;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;8BAEtD,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,8OAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,QAAQ;oCACR,aAAY;oCACZ,WAAU;;;;;;;;;;;;sCAId,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;;sDACX,8OAAC;4CAAK,WAAU;sDAAc;;;;;;wCAAgB;wCAAE,SAAS,OAAO,CAAC;;;;;;;8CAEnE,8OAAC;oCAAE,WAAU;;sDACX,8OAAC;4CAAK,WAAU;sDAAc;;;;;;wCAAiB;wCAAE,UAAU,OAAO,CAAC;;;;;;;;;;;;;sCAIvE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,SAAS,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtC","debugId":null}},
    {"offset": {"line": 697, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter } from 'next/navigation';\nimport dynamic from 'next/dynamic';\nimport Header from '@/components/ui/Header';\nimport FavoritesList from '@/components/favorites/FavoritesList';\nimport ForecastCard from '@/components/favorites/ForecastCard';\nimport AddLocationModal from '@/components/map/AddLocationModal';\nimport { FavoriteLocation, SurfForecast } from '@/types';\n\n// Dynamically import MapView to avoid SSR issues with mapbox-gl\nconst MapView = dynamic(() => import('@/components/map/MapView'), {\n  ssr: false,\n  loading: () => <div className=\"w-full h-full bg-gray-100 animate-pulse\" />,\n});\n\nexport default function DashboardPage() {\n  const [user, setUser] = useState<any>(null);\n  const [favorites, setFavorites] = useState<FavoriteLocation[]>([]);\n  const [selectedLocation, setSelectedLocation] = useState<FavoriteLocation | null>(null);\n  const [forecast, setForecast] = useState<SurfForecast[]>([]);\n  const [forecastLoading, setForecastLoading] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [pendingLocation, setPendingLocation] = useState<{ lat: number; lng: number } | null>(null);\n  const [initialMapLocation, setInitialMapLocation] = useState<{ latitude: number; longitude: number; zoom: number } | undefined>();\n  const router = useRouter();\n  const supabase = createClient();\n\n  useEffect(() => {\n    checkUser();\n    fetchFavorites();\n  }, []);\n\n  useEffect(() => {\n    if (selectedLocation) {\n      fetchForecast(selectedLocation.latitude, selectedLocation.longitude);\n    }\n  }, [selectedLocation]);\n\n  // Set initial map location when favorites load\n  useEffect(() => {\n    if (favorites.length > 0 && !initialMapLocation) {\n      const defaultLocationId = localStorage.getItem('defaultMapLocationId');\n      let defaultLocation = favorites.find(f => f.id === defaultLocationId) || favorites[0];\n\n      setInitialMapLocation({\n        latitude: defaultLocation.latitude,\n        longitude: defaultLocation.longitude,\n        zoom: 12,\n      });\n    }\n  }, [favorites, initialMapLocation]);\n\n  const checkUser = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n      router.push('/auth');\n    } else {\n      setUser(user);\n    }\n  };\n\n  const fetchFavorites = async () => {\n    const response = await fetch('/api/favorites');\n    if (response.ok) {\n      const data = await response.json();\n      setFavorites(data);\n    }\n  };\n\n  const fetchForecast = async (lat: number, lng: number) => {\n    setForecastLoading(true);\n    try {\n      const response = await fetch(`/api/forecast?lat=${lat}&lng=${lng}`);\n      if (response.ok) {\n        const data = await response.json();\n        setForecast(data);\n      }\n    } catch (error) {\n      console.error('Error fetching forecast:', error);\n    } finally {\n      setForecastLoading(false);\n    }\n  };\n\n  const handleMapClick = (lat: number, lng: number) => {\n    setPendingLocation({ lat, lng });\n    setIsModalOpen(true);\n  };\n\n  const handleSaveLocation = async (name: string, lat: number, lng: number) => {\n    const response = await fetch('/api/favorites', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ name, latitude: lat, longitude: lng }),\n    });\n\n    if (response.ok) {\n      await fetchFavorites();\n    }\n  };\n\n  const handleDeleteLocation = async (id: string) => {\n    if (confirm('Are you sure you want to delete this location?')) {\n      const response = await fetch(`/api/favorites/${id}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        setFavorites(favorites.filter((f) => f.id !== id));\n        if (selectedLocation?.id === id) {\n          setSelectedLocation(null);\n          setForecast([]);\n        }\n      }\n    }\n  };\n\n  const handleSelectLocation = (favorite: FavoriteLocation) => {\n    setSelectedLocation(favorite);\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col\">\n      <Header userEmail={user?.email} />\n\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Sidebar */}\n        <div className=\"w-96 bg-gray-50 border-r border-gray-200 overflow-y-auto\">\n          <div className=\"p-6\">\n            <h2 className=\"text-xl font-bold mb-4 text-gray-900\">Favorite Locations</h2>\n            <FavoritesList\n              favorites={favorites}\n              selectedId={selectedLocation?.id || null}\n              onSelect={handleSelectLocation}\n              onDelete={handleDeleteLocation}\n            />\n          </div>\n\n          {selectedLocation && (\n            <div className=\"p-6 border-t\">\n              <ForecastCard\n                forecast={forecast}\n                locationName={selectedLocation.name}\n                loading={forecastLoading}\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Map */}\n        <div className=\"flex-1 relative\">\n          <MapView\n            favorites={favorites}\n            onMapClick={handleMapClick}\n            selectedLocation={selectedLocation}\n            initialLocation={initialMapLocation}\n          />\n        </div>\n      </div>\n\n      <AddLocationModal\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        onSave={handleSaveLocation}\n        latitude={pendingLocation?.lat || 0}\n        longitude={pendingLocation?.lng || 0}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}