{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,iMAAmB;AAI5B","debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/components/ui/Header.tsx"],"sourcesContent":["'use client';\n\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter, usePathname } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface HeaderProps {\n  userEmail?: string;\n}\n\nexport default function Header({ userEmail }: HeaderProps) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const supabase = createClient();\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    router.push('/auth');\n    router.refresh();\n  };\n\n  const isMapPage = pathname === '/dashboard';\n  const isFavoritesPage = pathname === '/favorites';\n\n  return (\n    <header className=\"bg-white border-b border-gray-200\">\n      <div className=\"w-full px-6 py-4 flex justify-between items-center\">\n        <div className=\"flex items-center space-x-8\">\n          <h1 className=\"text-2xl font-bold text-blue-600\">Sandbars</h1>\n\n          <nav className=\"flex space-x-1\">\n            <Link\n              href=\"/dashboard\"\n              className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                isMapPage\n                  ? 'bg-blue-100 text-blue-700'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n            >\n              Map\n            </Link>\n            <Link\n              href=\"/favorites\"\n              className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                isFavoritesPage\n                  ? 'bg-blue-100 text-blue-700'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n            >\n              Favorites\n            </Link>\n          </nav>\n        </div>\n\n        <div className=\"flex items-center space-x-4\">\n          {userEmail && (\n            <span className=\"text-sm text-gray-600\">{userEmail}</span>\n          )}\n          <button\n            onClick={handleLogout}\n            className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\n          >\n            Sign Out\n          </button>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS,OAAO,EAAE,SAAS,EAAe;IACvD,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,WAAW,IAAA,yIAAY;IAE7B,MAAM,eAAe;QACnB,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;QACZ,OAAO,OAAO;IAChB;IAEA,MAAM,YAAY,aAAa;IAC/B,MAAM,kBAAkB,aAAa;IAErC,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCAEjD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAW,CAAC,2DAA2D,EACrE,YACI,8BACA,mCACJ;8CACH;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAW,CAAC,2DAA2D,EACrE,kBACI,8BACA,mCACJ;8CACH;;;;;;;;;;;;;;;;;;8BAML,8OAAC;oBAAI,WAAU;;wBACZ,2BACC,8OAAC;4BAAK,WAAU;sCAAyB;;;;;;sCAE3C,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/components/favorites/FavoritesTable.tsx"],"sourcesContent":["'use client';\n\nimport { FavoriteLocation, SurfForecast } from '@/types';\nimport { useState, useEffect } from 'react';\n\ninterface FavoritesTableProps {\n  favorites: FavoriteLocation[];\n  onDelete: (id: string) => Promise<void>;\n}\n\ninterface LocationForecast {\n  location: FavoriteLocation;\n  fullForecast: SurfForecast[];\n  sevenDayForecasts: (SurfForecast | null)[];\n  loading: boolean;\n}\n\nexport default function FavoritesTable({ favorites, onDelete }: FavoritesTableProps) {\n  const [locationForecasts, setLocationForecasts] = useState<LocationForecast[]>([]);\n  const [defaultLocationId, setDefaultLocationId] = useState<string | null>(null);\n  const [expandedLocationId, setExpandedLocationId] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Load default location from localStorage\n    const storedDefaultId = localStorage.getItem('defaultMapLocationId');\n    setDefaultLocationId(storedDefaultId);\n  }, []);\n\n  const handleSetDefault = (locationId: string) => {\n    localStorage.setItem('defaultMapLocationId', locationId);\n    setDefaultLocationId(locationId);\n  };\n\n  const toggleExpanded = (locationId: string) => {\n    setExpandedLocationId(expandedLocationId === locationId ? null : locationId);\n  };\n\n  useEffect(() => {\n    // Initialize location forecasts\n    const initialForecasts = favorites.map((location) => ({\n      location,\n      fullForecast: [],\n      sevenDayForecasts: Array(7).fill(null),\n      loading: true,\n    }));\n    setLocationForecasts(initialForecasts);\n\n    // Fetch forecasts for each location\n    favorites.forEach(async (location, index) => {\n      try {\n        const response = await fetch(\n          `/api/forecast?lat=${location.latitude}&lng=${location.longitude}`\n        );\n        if (response.ok) {\n          const data: SurfForecast[] = await response.json();\n\n          // Get forecasts for next 7 days (at noon)\n          const sevenDayForecasts: (SurfForecast | null)[] = [];\n          for (let i = 0; i < 7; i++) {\n            const targetDate = new Date();\n            targetDate.setDate(targetDate.getDate() + i);\n            const targetDateStr = targetDate.toISOString().split('T')[0];\n\n            const dayForecast = data.find((f) =>\n              f.time.includes(targetDateStr) && f.time.includes('12:00')\n            ) || data.find((f) => f.time.includes(targetDateStr)) || null;\n\n            sevenDayForecasts.push(dayForecast);\n          }\n\n          setLocationForecasts((prev) => {\n            const updated = [...prev];\n            updated[index] = {\n              location,\n              fullForecast: data,\n              sevenDayForecasts,\n              loading: false,\n            };\n            return updated;\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching forecast:', error);\n        setLocationForecasts((prev) => {\n          const updated = [...prev];\n          updated[index].loading = false;\n          return updated;\n        });\n      }\n    });\n  }, [favorites]);\n\n  const formatDate = (daysFromNow: number) => {\n    const date = new Date();\n    date.setDate(date.getDate() + daysFromNow);\n    return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });\n  };\n\n  const formatDayName = (daysFromNow: number) => {\n    if (daysFromNow === 0) return 'Today';\n    if (daysFromNow === 1) return 'Tomorrow';\n    const date = new Date();\n    date.setDate(date.getDate() + daysFromNow);\n    return date.toLocaleDateString('en-US', { weekday: 'short' });\n  };\n\n  const renderForecastCell = (forecast: SurfForecast | null, loading: boolean) => {\n    if (loading) {\n      return (\n        <div className=\"text-center\">\n          <div className=\"inline-block w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n        </div>\n      );\n    }\n\n    if (!forecast) {\n      return <span className=\"text-gray-400 text-sm\">No data</span>;\n    }\n\n    const getWaveColor = (height: number) => {\n      if (height < 1) return 'text-gray-600';\n      if (height < 2) return 'text-blue-600';\n      if (height < 4) return 'text-green-600';\n      if (height < 6) return 'text-orange-600';\n      return 'text-red-600';\n    };\n\n    return (\n      <div className=\"text-center\">\n        <p className={`font-bold text-lg ${getWaveColor(forecast.waveHeight.max)}`}>\n          {forecast.waveHeight.min.toFixed(1)}-{forecast.waveHeight.max.toFixed(1)}m\n        </p>\n        <p className=\"text-xs text-gray-900 mt-1\">\n          {forecast.wavePeriod.toFixed(0)}s • {forecast.windSpeed.toFixed(0)} m/s\n        </p>\n      </div>\n    );\n  };\n\n  const renderExpandedRow = (item: LocationForecast) => {\n    return (\n      <tr className=\"bg-gray-50\">\n        <td colSpan={10} className=\"px-6 py-4\">\n          <div className=\"space-y-4\">\n            <h4 className=\"font-semibold text-gray-900\">Detailed 7-Day Forecast</h4>\n\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\">\n                <thead>\n                  <tr className=\"border-b border-gray-300\">\n                    <th className=\"text-left py-2 px-3 text-gray-700 font-medium\">Metric</th>\n                    {item.sevenDayForecasts.map((_, idx) => (\n                      <th key={idx} className=\"text-center py-2 px-3 text-gray-700 font-medium\">\n                        {formatDayName(idx)}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody className=\"text-gray-900\">\n                  <tr className=\"border-b border-gray-200\">\n                    <td className=\"py-2 px-3 font-medium\">Water Temp</td>\n                    {item.sevenDayForecasts.map((forecast, idx) => (\n                      <td key={idx} className=\"text-center py-2 px-3\">\n                        {forecast?.waterTemperature ? `${forecast.waterTemperature.toFixed(1)}°C` : '-'}\n                      </td>\n                    ))}\n                  </tr>\n                  <tr className=\"border-b border-gray-200 bg-white\">\n                    <td className=\"py-2 px-3 font-medium\">Wind Speed</td>\n                    {item.sevenDayForecasts.map((forecast, idx) => (\n                      <td key={idx} className=\"text-center py-2 px-3\">\n                        {forecast ? `${forecast.windSpeed.toFixed(1)} m/s` : '-'}\n                      </td>\n                    ))}\n                  </tr>\n                  <tr className=\"border-b border-gray-200\">\n                    <td className=\"py-2 px-3 font-medium\">Wind Direction</td>\n                    {item.sevenDayForecasts.map((forecast, idx) => (\n                      <td key={idx} className=\"text-center py-2 px-3\">\n                        {forecast ? `${forecast.windDirection}°` : '-'}\n                      </td>\n                    ))}\n                  </tr>\n                  <tr className=\"border-b border-gray-200 bg-white\">\n                    <td className=\"py-2 px-3 font-medium\">Swell Size</td>\n                    {item.sevenDayForecasts.map((forecast, idx) => (\n                      <td key={idx} className=\"text-center py-2 px-3\">\n                        {forecast ? `${forecast.waveHeight.min.toFixed(1)}-${forecast.waveHeight.max.toFixed(1)}m` : '-'}\n                      </td>\n                    ))}\n                  </tr>\n                  <tr className=\"border-b border-gray-200\">\n                    <td className=\"py-2 px-3 font-medium\">Swell Direction</td>\n                    {item.sevenDayForecasts.map((forecast, idx) => (\n                      <td key={idx} className=\"text-center py-2 px-3\">\n                        {forecast ? `${forecast.waveDirection}°` : '-'}\n                      </td>\n                    ))}\n                  </tr>\n                  <tr className=\"bg-white\">\n                    <td className=\"py-2 px-3 font-medium\">Swell Period</td>\n                    {item.sevenDayForecasts.map((forecast, idx) => (\n                      <td key={idx} className=\"text-center py-2 px-3\">\n                        {forecast ? `${forecast.wavePeriod.toFixed(0)}s` : '-'}\n                      </td>\n                    ))}\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </td>\n      </tr>\n    );\n  };\n\n  if (favorites.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-500 text-lg mb-2\">No favorite locations yet</p>\n        <p className=\"text-gray-400 text-sm\">Add some spots from the Map view to see forecasts here</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className=\"w-full border-collapse\">\n        <thead>\n          <tr className=\"bg-gray-50 border-b border-gray-200\">\n            <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-900\">Location</th>\n            {[...Array(7)].map((_, idx) => (\n              <th key={idx} className=\"px-6 py-4 text-center text-sm font-semibold text-gray-900\">\n                {formatDayName(idx)}<br />\n                <span className=\"font-normal text-xs text-gray-600\">{formatDate(idx)}</span>\n              </th>\n            ))}\n            <th className=\"px-6 py-4 text-right text-sm font-semibold text-gray-900\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {locationForecasts.map((item, index) => (\n            <>\n              <tr\n                key={item.location.id}\n                className={`border-b border-gray-200 hover:bg-gray-50 cursor-pointer ${\n                  expandedLocationId === item.location.id ? 'bg-blue-50' : ''\n                }`}\n                onClick={() => toggleExpanded(item.location.id)}\n              >\n                <td className=\"px-6 py-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <svg\n                      className={`w-4 h-4 text-gray-600 transition-transform ${\n                        expandedLocationId === item.location.id ? 'rotate-90' : ''\n                      }`}\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M9 5l7 7-7 7\"\n                      />\n                    </svg>\n                    <div>\n                      <p className=\"font-medium text-gray-900\">{item.location.name}</p>\n                      <p className=\"text-sm text-gray-600\">\n                        {item.location.latitude.toFixed(4)}, {item.location.longitude.toFixed(4)}\n                      </p>\n                    </div>\n                  </div>\n                </td>\n                {item.sevenDayForecasts.map((forecast, idx) => (\n                  <td key={idx} className=\"px-6 py-4\">\n                    {renderForecastCell(forecast, item.loading)}\n                  </td>\n                ))}\n                <td className=\"px-6 py-4 text-right\" onClick={(e) => e.stopPropagation()}>\n                  <div className=\"flex items-center justify-end space-x-2\">\n                    {defaultLocationId === item.location.id ? (\n                      <span className=\"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-full\">\n                        Map Default\n                      </span>\n                    ) : (\n                      <button\n                        onClick={() => handleSetDefault(item.location.id)}\n                        className=\"px-3 py-1 text-xs font-medium text-gray-700 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors\"\n                        title=\"Set as map default\"\n                      >\n                        Set as Default\n                      </button>\n                    )}\n                    <button\n                      onClick={() => onDelete(item.location.id)}\n                      className=\"text-red-600 hover:text-red-800 p-2\"\n                      title=\"Delete location\"\n                    >\n                      <svg\n                        className=\"w-5 h-5\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n              {expandedLocationId === item.location.id && renderExpandedRow(item)}\n            </>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/app/favorites/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter } from 'next/navigation';\nimport Header from '@/components/ui/Header';\nimport FavoritesTable from '@/components/favorites/FavoritesTable';\nimport { FavoriteLocation } from '@/types';\n\nexport default function FavoritesPage() {\n  const [user, setUser] = useState<any>(null);\n  const [favorites, setFavorites] = useState<FavoriteLocation[]>([]);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n  const supabase = createClient();\n\n  useEffect(() => {\n    checkUser();\n    fetchFavorites();\n  }, []);\n\n  const checkUser = async () => {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n      router.push('/auth');\n    } else {\n      setUser(user);\n    }\n  };\n\n  const fetchFavorites = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/favorites');\n      if (response.ok) {\n        const data = await response.json();\n        setFavorites(data);\n      }\n    } catch (error) {\n      console.error('Error fetching favorites:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteLocation = async (id: string) => {\n    if (confirm('Are you sure you want to delete this location?')) {\n      const response = await fetch(`/api/favorites/${id}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        setFavorites(favorites.filter((f) => f.id !== id));\n      }\n    }\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col\">\n      <Header userEmail={user?.email} />\n\n      <div className=\"flex-1 overflow-auto bg-gray-50\">\n        <div className=\"max-w-7xl mx-auto p-8\">\n          <div className=\"mb-6\">\n            <h1 className=\"text-3xl font-bold text-gray-900\">Favorite Locations</h1>\n            <p className=\"text-gray-600 mt-2\">\n              View surf forecasts for all your saved locations\n            </p>\n          </div>\n\n          <div className=\"bg-white rounded-lg shadow\">\n            {loading ? (\n              <div className=\"p-12 text-center\">\n                <div className=\"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n                <p className=\"text-gray-600 mt-4\">Loading favorites...</p>\n              </div>\n            ) : (\n              <FavoritesTable favorites={favorites} onDelete={handleDeleteLocation} />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AASe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAqB,EAAE;IACjE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,yIAAY;IAE7B,IAAA,kNAAS,EAAC;QACR;QACA;IACF,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,CAAC;QACd,OAAO;YACL,QAAQ;QACV;IACF;IAEA,MAAM,iBAAiB;QACrB,WAAW;QACX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,aAAa;YACf;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,uBAAuB,OAAO;QAClC,IAAI,QAAQ,mDAAmD;YAC7D,MAAM,WAAW,MAAM,MAAM,CAAC,eAAe,EAAE,IAAI,EAAE;gBACnD,QAAQ;YACV;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,aAAa,UAAU,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;YAChD;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,sIAAM;gBAAC,WAAW,MAAM;;;;;;0BAEzB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,8OAAC;oCAAE,WAAU;8CAAqB;;;;;;;;;;;;sCAKpC,8OAAC;4BAAI,WAAU;sCACZ,wBACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAE,WAAU;kDAAqB;;;;;;;;;;;qDAGpC,8OAAC,qJAAc;gCAAC,WAAW;gCAAW,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9D","debugId":null}}]
}