{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IAEjC,OAAO,IAAA,iMAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ","debugId":null}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/lib/stormglass.ts"],"sourcesContent":["import { SurfForecast, StormglassResponse } from '@/types';\n\nconst STORMGLASS_API_URL = 'https://api.stormglass.io/v2';\n\nexport async function getSurfForecast(\n  lat: number,\n  lng: number\n): Promise<SurfForecast[]> {\n  const apiKey = process.env.STORMGLASS_API_KEY;\n\n  if (!apiKey) {\n    throw new Error('Stormglass API key not configured');\n  }\n\n  const params = [\n    'waveHeight',\n    'wavePeriod',\n    'waveDirection',\n    'windSpeed',\n    'windDirection',\n    'waterTemperature',\n  ].join(',');\n\n  const response = await fetch(\n    `${STORMGLASS_API_URL}/weather/point?lat=${lat}&lng=${lng}&params=${params}`,\n    {\n      headers: {\n        Authorization: apiKey,\n      },\n      next: {\n        revalidate: 3600, // Cache for 1 hour\n      },\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error(`Stormglass API error: ${response.statusText}`);\n  }\n\n  const data: StormglassResponse = await response.json();\n\n  // Transform the response to our format\n  return data.hours.map((hour) => ({\n    time: hour.time,\n    waveHeight: {\n      min: hour.waveHeight.noaa || hour.waveHeight.sg,\n      max: hour.waveHeight.icon || hour.waveHeight.noaa || hour.waveHeight.sg,\n    },\n    wavePeriod: hour.wavePeriod.noaa || hour.wavePeriod.sg,\n    waveDirection: hour.waveDirection.noaa || hour.waveDirection.sg,\n    windSpeed: hour.windSpeed.noaa || hour.windSpeed.sg,\n    windDirection: hour.windDirection.noaa || hour.windDirection.sg,\n    waterTemperature: hour.waterTemperature?.noaa || hour.waterTemperature?.sg,\n  }));\n}\n"],"names":[],"mappings":";;;;AAEA,MAAM,qBAAqB;AAEpB,eAAe,gBACpB,GAAW,EACX,GAAW;IAEX,MAAM,SAAS,QAAQ,GAAG,CAAC,kBAAkB;IAE7C,IAAI,CAAC,QAAQ;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAS;QACb;QACA;QACA;QACA;QACA;QACA;KACD,CAAC,IAAI,CAAC;IAEP,MAAM,WAAW,MAAM,MACrB,GAAG,mBAAmB,mBAAmB,EAAE,IAAI,KAAK,EAAE,IAAI,QAAQ,EAAE,QAAQ,EAC5E;QACE,SAAS;YACP,eAAe;QACjB;QACA,MAAM;YACJ,YAAY;QACd;IACF;IAGF,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,SAAS,UAAU,EAAE;IAChE;IAEA,MAAM,OAA2B,MAAM,SAAS,IAAI;IAEpD,uCAAuC;IACvC,OAAO,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,OAAS,CAAC;YAC/B,MAAM,KAAK,IAAI;YACf,YAAY;gBACV,KAAK,KAAK,UAAU,CAAC,IAAI,IAAI,KAAK,UAAU,CAAC,EAAE;gBAC/C,KAAK,KAAK,UAAU,CAAC,IAAI,IAAI,KAAK,UAAU,CAAC,IAAI,IAAI,KAAK,UAAU,CAAC,EAAE;YACzE;YACA,YAAY,KAAK,UAAU,CAAC,IAAI,IAAI,KAAK,UAAU,CAAC,EAAE;YACtD,eAAe,KAAK,aAAa,CAAC,IAAI,IAAI,KAAK,aAAa,CAAC,EAAE;YAC/D,WAAW,KAAK,SAAS,CAAC,IAAI,IAAI,KAAK,SAAS,CAAC,EAAE;YACnD,eAAe,KAAK,aAAa,CAAC,IAAI,IAAI,KAAK,aAAa,CAAC,EAAE;YAC/D,kBAAkB,KAAK,gBAAgB,EAAE,QAAQ,KAAK,gBAAgB,EAAE;QAC1E,CAAC;AACH","debugId":null}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/nikolaskaris/projects/sandbars/app/api/forecast/route.ts"],"sourcesContent":["import { createClient } from '@/lib/supabase/server';\nimport { getSurfForecast } from '@/lib/stormglass';\nimport { NextResponse } from 'next/server';\n\nexport async function GET(request: Request) {\n  try {\n    const supabase = await createClient();\n\n    const { data: { user }, error: userError } = await supabase.auth.getUser();\n\n    if (userError || !user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const { searchParams } = new URL(request.url);\n    const lat = parseFloat(searchParams.get('lat') || '');\n    const lng = parseFloat(searchParams.get('lng') || '');\n\n    if (isNaN(lat) || isNaN(lng)) {\n      return NextResponse.json(\n        { error: 'Invalid coordinates' },\n        { status: 400 }\n      );\n    }\n\n    const forecast = await getSurfForecast(lat, lng);\n\n    return NextResponse.json(forecast);\n  } catch (error) {\n    console.error('Forecast API error:', error);\n    return NextResponse.json(\n      { error: error instanceof Error ? error.message : 'Failed to fetch forecast' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,OAAgB;IACxC,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,2IAAY;QAEnC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAExE,IAAI,aAAa,CAAC,MAAM;YACtB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAe,GAAG;gBAAE,QAAQ;YAAI;QACpE;QAEA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,MAAM,WAAW,aAAa,GAAG,CAAC,UAAU;QAClD,MAAM,MAAM,WAAW,aAAa,GAAG,CAAC,UAAU;QAElD,IAAI,MAAM,QAAQ,MAAM,MAAM;YAC5B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAsB,GAC/B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,WAAW,MAAM,IAAA,sIAAe,EAAC,KAAK;QAE5C,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAA2B,GAC7E;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}